<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>wdc_io module &mdash; MagPy 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="MagPy 1.0 documentation" href="index.html" />
    <link rel="next" title="svplots module" href="svplots.html" />
    <link rel="prev" title="Welcome to MagPy’s documentation!" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-wdc_io">
<span id="wdc-io-module"></span><h1>wdc_io module<a class="headerlink" href="#module-wdc_io" title="Permalink to this headline">¶</a></h1>
<p>Part of the MagPy package for geomagnetic data analysis. This module provides
various functions to read, parse and manipulate the contents of World Data
Centre (WDC) formatted files containing geomagnetic data.</p>
<blockquote>
<div><p>Copyright (C) 2016  Grace Cox</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along
with this program.  If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
</div></blockquote>
<dl class="function">
<dt id="wdc_io.angles_to_geographic">
<code class="descclassname">wdc_io.</code><code class="descname">angles_to_geographic</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wdc_io.html#angles_to_geographic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wdc_io.angles_to_geographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Use D and H values to calculate the X and Y field components.</p>
<p>The declination (D) and horizontal intensity (H) relate to the north (Y)
and east (X) components as follows:</p>
<p>X = H*cos(D)</p>
<p>Y = H*sin(D)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>dataframe</em>) &#8211; dataframe containing columns for datetimeobjects and
daily means of the magnetic field components (D, I, F, H, X, Y or
Z).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;
the same dataframe with datetime objects in the first
column and daily means of the field components in either nT or degrees
(depending on the component).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dataframe</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="wdc_io.daily_mean_conversion">
<code class="descclassname">wdc_io.</code><code class="descname">daily_mean_conversion</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wdc_io.html#daily_mean_conversion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wdc_io.daily_mean_conversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the tabular base to calculate daily means in nT or degrees (D, I)</p>
<p>Uses the tabular base and daily value from the WDC file to calculate the
daily means of magnetic field components. Value is in nT for H, F, X, Y or
Z components and in degrees for D or I components. Called by wdc_xyz.</p>
<p>daily_mean = tabular_base*100 + wdc_daily_value (for components in nT)</p>
<p>daily_mean = tabular_base + wdc_daily_value/600 (for D and I components)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>df</strong> (<em>dataframe</em>) &#8211; dataframe containing columns for datetimeobjects,
magnetic field component (D, I, F, H, X, Y or Z), the tabular base
and daily mean.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>df</strong> &#8211;
the same dataframe with datetime objects in the first
column and daily means of the field components in either nT or degrees
(depending on the component).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dataframe</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="wdc_io.data_resampling">
<code class="descclassname">wdc_io.</code><code class="descname">data_resampling</code><span class="sig-paren">(</span><em>df</em>, <em>sampling='M'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wdc_io.html#data_resampling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wdc_io.data_resampling" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample the daily geomagnetic data to a specified frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<em>dataframe</em>) &#8211; dataframe containing datetime objects and daily
means of magnetic data.</li>
<li><strong>sampling</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; new sampling frequency. Default value is &#8216;M&#8217;
(monthly means), which averages data for each month and sets
the datetime object to the final day of that month. Use &#8216;MS&#8217;
to set the datetime object to the first day of the month.
Another useful option is &#8216;A&#8217; (annual means), which averages
data for a whole year and sets the datetime object to the final
day of the year. Use &#8216;AS&#8217; to set the datetime object to the
first day of the year.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>df</strong> &#8211;
dataframe of datetime objects and monthly/annual
means of observatory data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dataframe</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="wdc_io.wdc_datetimes">
<code class="descclassname">wdc_io.</code><code class="descname">wdc_datetimes</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wdc_io.html#wdc_datetimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wdc_io.wdc_datetimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create datetime objects from the fields extracted from a WDC datafile.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>dataframe</em>) &#8211; needs columns for century, year (yy format), month
and day. Called by wdc_readfile.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;
the same dataframe with a series of datetime objects
(in the format yyyy-mm-dd) in the first column.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dataframe</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="wdc_io.wdc_readfile">
<code class="descclassname">wdc_io.</code><code class="descname">wdc_readfile</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wdc_io.html#wdc_readfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wdc_io.wdc_readfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a WDC datafile and place the contents into a dataframe.</p>
<p>Load a datafile of WDC hourly geomagnetic data for a single observatory and
extract the contents. Can parse both the current WDC file format and the
previous format containing international quiet (Q) or disturbed (D) day
designation in place of the century field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; path to a WDC datafile.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;
dataframe containing averaged geomagnetic data. First
column is a series of datetime objects (in the format yyyy-mm-dd)
and subsequent columns are the X, Y and Z components of the
magnetic field at the specified times.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dataframe</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="wdc_io.wdc_xyz">
<code class="descclassname">wdc_io.</code><code class="descname">wdc_xyz</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wdc_io.html#wdc_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wdc_io.wdc_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert extracted WDC data to daily averages of X, Y and Z components.</p>
<p>Missing values (indicated by 9999 in the datafiles) are replaced with NaNs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>dataframe</em>) &#8211; dataframe containing columns for datetime objects,
magnetic field component (D, I, F, H, X, Y or Z), the tabular base
and daily mean.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;
the same dataframe with datetime objects in the first
column and columns for X, Y and Z components of magnetic field (in nT).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dataframe</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to MagPy&#8217;s documentation!</a></li>
      <li>Next: <a href="svplots.html" title="next chapter">svplots module</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/wdc_io.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Grace Cox.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/wdc_io.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>