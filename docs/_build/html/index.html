

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to MagPySV’s documentation! &mdash; MagPySV 2.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="MagPySV 2.0 documentation" href="#"/>
        <link rel="next" title="denoise module" href="denoise.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> MagPySV
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="denoise.html">denoise module</a></li>
<li class="toctree-l1"><a class="reference internal" href="gvo_tools.html">gvo_tools module</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">io module</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_prediction.html">model_prediction module</a></li>
<li class="toctree-l1"><a class="reference internal" href="plots.html">plots module</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">tools module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="#">MagPySV</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="#">Docs</a> &raquo;</li>
      
    <li>Welcome to MagPySV&#8217;s documentation!</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-magpysv-s-documentation">
<h1>Welcome to MagPySV&#8217;s documentation!<a class="headerlink" href="#welcome-to-magpysv-s-documentation" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://travis-ci.org/gracecox/MagPySV"><img alt="Build Status" src="https://travis-ci.org/gracecox/MagPySV.svg?branch=master" /></a> <a class="reference external" href="http://magpysv.readthedocs.io/en/latest/?badge=latest"><img alt="Documentation Status" src="https://readthedocs.org/projects/magpysv/badge/?version=latest" /></a> <a class="reference external" href="https://app.codacy.com/app/gracecox/MagPySV?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=gracecox/MagPySV&amp;utm_campaign=badger"><img alt="Codacy Health" src="https://api.codacy.com/project/badge/Grade/e22cd43f7e364892ab42c874ada808ad" /></a> <a class="reference external" href="https://coveralls.io/github/gracecox/MagPySV?branch=master"><img alt="Coverage" src="https://coveralls.io/repos/github/gracecox/MagPySV/badge.svg?branch=master" /></a> <a class="reference external" href="https://opensource.org/licenses/MIT"><img alt="license" src="https://img.shields.io/badge/license-MIT-blue.svg" /></a></p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>MagPySV is an open-source Python package designed to provide a consistent, and automated as far as possible, means of generating high resolution SV time series from raw observatory hourly means distributed by the World Data Centre (WDC) for Geomagnetism at the British Geological Survey (BGS), Edinburgh. It uses a second Python package developed by BGS to download data for a given time range and list of observatories.</p>
<p>The package may be run on the command line or within an interactive Jupyter notebook, and allows the user to obtain data in WDC format from BGS servers for a user-specified time period and list of observatories. It produces time series of the X, Y and Z components of the internally-generated magnetic field and secular variation (SV) at the desired frequency (typically monthly or annual means), and applies corrections for all documented baseline changes. Optionally, the user may exclude data using the <a class="reference external" href="https://www.gfz-potsdam.de/en/kp-index/">ap index</a>, which removes effects from documented high solar activity periods such as geomagnetic storms. Robust statistics are used to identify and remove outliers.</p>
<p>The software develops previously published denoising methods, which aim to remove external field contamination from the internal field, using principal component analysis, a method that uses the covariance matrix of the residual between the observed SV and that predicted by a global field model to create and remove a proxy for external field signal from the data. This method, based on <a class="reference external" href="https://doi.org/10.1111/j.1365-246X.2011.04988.x">Wardinski &amp; Holme (2011)</a>, creates a single covariance matrix for all observatories of interest combined and applies the external field correction to all locations simultaneously, resulting in cleaner time series of the internally-generated SV.</p>
<p>Added in August 2020: a new module called GVO_tools, which was used to denoise Geomagnetic Virtual Observatories (GVOs) made from Swarm satellite data. This work was performed under a European Space Agency (ESA) Swarm DISC project on GVOs. More information on this project can be found at <a class="reference external" href="https://www.space.dtu.dk/english/research/projects/project-descriptions/geomagnetic-virtual-observatories">https://www.space.dtu.dk/english/research/projects/project-descriptions/geomagnetic-virtual-observatories</a></p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>MagPySV can be installed via the Python Package Index (PyPI) using the command
<code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">magpysv</span></code>. This also installs all required dependencies, including the BGS data downloading app. The example Juypyter notebooks (see below) are not included in the PyPI installation and need to be downloaded from a separate GitHub project page after the software is installed.</p>
</div>
<div class="section" id="example-workflows">
<h2>Example workflows<a class="headerlink" href="#example-workflows" title="Permalink to this headline">¶</a></h2>
<p>In the paper accompanying this software (in prep), we present two case studies of cleaned data in different geographic regions and discuss their application to geomagnetic jerks: monthly first differences for Europe, and annual differences for northern high latitude regions. A second GitHub repository accompanying this package includes two notebooks that can be used to download the relevant hourly data from BGS and reproduce the figures for these case studies. Note that MagPySV must be installed before using the notebooks (preferably using <code class="docutils literal"><span class="pre">pip</span></code>).</p>
<p>To obtain the notebooks, go to their GitHub project page at <a class="reference external" href="https://github.com/gracecox/MagPySV-examples">https://github.com/gracecox/MagPySV-examples</a> and click the green &#8220;clone or download&#8221; button. From the dropdown menu, select &#8220;download zip&#8221; and save the file to the desired location. Unzip the file and navigate to the resulting folder. To open the notebooks, launch a Jupyter notebook from this folder (e.g. by typing <code class="docutils literal"><span class="pre">jupyter</span> <span class="pre">notebook</span></code> into the command line from the directory) and then select the desired notebook from the list that appears in your web browser.</p>
<p>The <a class="reference external" href="https://jupyter-notebook-beginner-guide.readthedocs.io/en/latest/">Jupyter documentation</a> contains a step-by-step tutorial on installing and running notebooks, and is aimed at new users who have no familiarity with Python.</p>
</div>
<div class="section" id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h2>
<p>We hope others in the geomagnetism community find this code useful and welcome suggestions, feedback and contributions. Requesting new features or reporting bugs can be done by creating a <a class="reference external" href="https://github.com/gracecox/MagPySV/issues">GitHub issue</a> for the repository.</p>
<p>If you would like to fix bugs or implement new features yourself, this is very welcome! This is done by</p>
<ol class="arabic simple">
<li>Forking MagPySV&#8217;s GitHub repository</li>
<li>Creating a branch for your changes</li>
<li>Making your changes to the code</li>
<li>Submitting a pull request to the repository</li>
</ol>
<p>Those unfamiliar with this process might find <a class="reference external" href="https://guides.github.com/">GitHub&#8217;s tutorials</a> useful. If this still looks too complicated, you are welcome to create a GitHub issue or get in touch with us directly for help.</p>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<p>An open access manuscript describing MagPySV is now published in <em>Geochemistry, Geophysics, Geosystems</em> (<a class="reference external" href="https://doi.org/10.1029/2018GC007714">https://doi.org/10.1029/2018GC007714</a>); please cite this if you use the code. The paper also presents two case studies of cleaned data at European and high latitude observatories, and their application to geomagnetic jerks.</p>
<p>The project&#8217;s main directory contains the readme file, license and various setup files. The <cite>magpysv</cite> directory contains all of the Python modules that make up the Python package, detailed descriptions of all functions contained within each module are found at the links below the contents section of this page. The code documentation can also be accessed using Python&#8217;s help function by typing a command in this format: <code class="docutils literal"><span class="pre">help(magpysv.modulename.functionname)</span></code></p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="denoise.html">denoise module</a></li>
<li class="toctree-l1"><a class="reference internal" href="gvo_tools.html">gvo_tools module</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">io module</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_prediction.html">model_prediction module</a></li>
<li class="toctree-l1"><a class="reference internal" href="plots.html">plots module</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">tools module</a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="denoise.html" class="btn btn-neutral float-right" title="denoise module" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Grace Cox.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>